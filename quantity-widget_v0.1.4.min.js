!function(){"use strict";(()=>{const t=[],n=()=>{const t=document.querySelectorAll('input[data-jb-input="quantity"]');0!==t.length?t.forEach(t=>{e(t)}):console.warn("No quantity inputs found on this page")},e=t=>{const n=t.closest("[data-quantity-container]")||t.parentElement,e=n.querySelector(".addminusbutton.addbutton"),u=n.querySelector(".addminusbutton.minusbutton");if(!e||!u)return void console.error("Could not find add/minus buttons for quantity input:",t);if("true"===t.dataset.quantityInitialized)return;t.dataset.quantityInitialized="true";const i=n=>{const e=t.valueAsNumber||0,u=e+n;if(u>=1){const n=e;t.value=u,t.setAttribute("value",u),t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),a(u,n,t)}};e.addEventListener("click",t=>{t.preventDefault(),i(1)}),u.addEventListener("click",t=>{t.preventDefault(),i(-1)}),t.addEventListener("input",()=>{const n=t.valueAsNumber,e=parseInt(t.dataset.lastValue)||n;isNaN(n)||n<1?(t.value=1,a(1,e,t)):a(n,e,t),t.dataset.lastValue=t.value}),t.dataset.lastValue=t.value||"1"},a=(n,e,a)=>{setTimeout(()=>{t.forEach(t=>{try{t({quantity:n,oldQuantity:e,input:a,container:a.closest("[data-quantity-container]")||a.parentElement})}catch(t){console.error("Error in onQuantityChange callback:",t)}})},0)};window.onQuantityChange=n=>{"function"==typeof n?t.push(n):console.error("onQuantityChange expects a function as argument")},window.offQuantityChange=n=>{const e=t.indexOf(n);e>-1&&t.splice(e,1)},window.clearQuantityCallbacks=()=>{t.length=0},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),window.reinitQuantitySelectors=n})()}();
