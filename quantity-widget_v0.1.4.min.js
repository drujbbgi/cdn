!function(){"use strict";(()=>{const t=[],e=()=>{const t=document.querySelectorAll('input[data-jb-input="quantity"]');0!==t.length?t.forEach(t=>{n(t)}):console.warn("No quantity inputs found on this page")},n=t=>{const e=t.closest("[data-quantity-container]")||t.parentElement,n=e.querySelector(".addminusbutton.addbutton"),u=e.querySelector(".addminusbutton.minusbutton");if(!n||!u)return void console.error("Could not find add/minus buttons for quantity input:",t);if("true"===t.dataset.quantityInitialized)return;t.dataset.quantityInitialized="true";const i=e=>{const n=t.valueAsNumber||0,u=n+e;if(u>=1){const e=n;t.value=u,t.setAttribute("value",u),t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),a(u,e,t)}};n.addEventListener("click",t=>{t.preventDefault(),i(1)}),u.addEventListener("click",t=>{t.preventDefault(),i(-1)}),t.addEventListener("input",()=>{const e=t.valueAsNumber,n=parseInt(t.dataset.lastValue)||e;isNaN(e)||e<1?(t.value=1,t.setAttribute("value",1),a(1,n,t)):(t.setAttribute("value",e),a(e,n,t)),t.dataset.lastValue=t.value}),t.dataset.lastValue=t.value||"1"},a=(e,n,a)=>{setTimeout(()=>{t.forEach(t=>{try{t({quantity:e,oldQuantity:n,input:a,container:a.closest("[data-quantity-container]")||a.parentElement})}catch(t){console.error("Error in onQuantityChange callback:",t)}})},0)};window.onQuantityChange=e=>{"function"==typeof e?t.push(e):console.error("onQuantityChange expects a function as argument")},window.offQuantityChange=e=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},window.clearQuantityCallbacks=()=>{t.length=0},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.reinitQuantitySelectors=e})()}();
